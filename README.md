# シーン説明ジェネレーター

登山動画から自動的にシーンを検出し、各シーンの説明文を生成するアプリケーションです。音声認識、画像分析、自然言語処理を組み合わせて、動画コンテンツを効率的に管理・編集するためのツールです。

## 主な機能

- **シーン検出**: 動画から自動的にシーンを検出
- **音声認識**: 各シーンの音声を文字起こし
- **シーン説明生成**: 映像と音声から自動的にシーンの説明文を生成
- **シーン分析**: 各シーンの文脈や編集のヒントを提供
- **プレビュー生成**: 各シーンのサムネイルとプレビュー動画を生成
- **シーン管理**: シーンの再生、保存、編集が可能
- **サイレントシーン検出**: 音声のないシーンを自動的に識別

## セットアップ

### 必要条件

- Python 3.10以上
- FFmpeg（動画処理用）
- VLC Player（推奨：シーンプレビュー用）

### インストール手順

1. リポジトリをクローン：
```bash
git clone [repository-url]
cd scene_description_generator
```

2. 必要なパッケージをインストール：
```bash
pip install -r requirements.txt
```

3. 環境変数の設定：
`.env`ファイルを作成し、以下の内容を設定：
```
OPENAI_API_KEY=your_api_key_here
AZURE_API_KEY=your_azure_key_here
AZURE_ENDPOINT=your_azure_endpoint_here
```

## 使用方法

1. アプリケーションを起動：
```bash
python video_enhanced.py
```

2. 「ファイルを選択」ボタンをクリックし、処理したい動画ファイルを選択

3. 「処理開始」ボタンをクリックして、シーン検出と分析を開始

4. 処理が完了すると、各シーンの詳細情報が表示されます：
   - シーンのサムネイル
   - シーンの説明
   - 音声の文字起こし
   - シーンの文脈分析
   - 編集提案

5. 各シーンで利用可能な操作：
   - シーンの再生（サムネイルまたは再生ボタンをクリック）
   - シーンの保存（「シーン保存」ボタンをクリック）
   - シーンの詳細表示

## ファイル構成

- `video_enhanced.py`: メインアプリケーション
- `api_client.py`: API通信用クライアント
- `requirements.txt`: 必要なPythonパッケージの一覧
- `.env`: 環境変数設定ファイル

## 技術仕様

- **シーン検出**: PySceneDetectを使用
- **音声認識**: Faster Whisper（Systran版）を使用
- **画像分析**: Azure Computer Visionを使用
- **自然言語処理**: OpenAI GPT-4を使用
- **動画処理**: FFmpegを使用

## 注意事項

- 処理には十分なディスク容量が必要です
- 音声認識の精度は環境音や話者の声質に依存します
- APIキーの利用には各サービスの利用規約が適用されます

## ライセンス

MITライセンス

## 作者

[Your Name]
